# AI Music Player

ä¸€ä¸ªä½¿ç”¨Flutterå¼€å‘çš„åœ¨çº¿å¬æ­Œæ¡Œé¢APPï¼Œç•Œé¢è®¾è®¡å‚è€ƒQQéŸ³ä¹ã€é…·æˆ‘éŸ³ä¹ç­‰ä¸»æµéŸ³ä¹æ’­æ”¾å™¨ã€‚

## åŠŸèƒ½ç‰¹æ€§

- éŸ³ä¹æ’­æ”¾æ§åˆ¶ï¼ˆæ’­æ”¾ã€æš‚åœã€ä¸Šä¸€é¦–ã€ä¸‹ä¸€é¦–ï¼‰
- æ’­æ”¾æ¨¡å¼åˆ‡æ¢ï¼ˆé¡ºåºæ’­æ”¾ã€å•æ›²å¾ªç¯ã€éšæœºæ’­æ”¾ï¼‰
- éŸ³é‡æ§åˆ¶
- æ’­æ”¾è¿›åº¦æ§åˆ¶
- æ’­æ”¾åˆ—è¡¨ç®¡ç†
- æ­Œæ›²æ”¶è—åŠŸèƒ½
- æœç´¢åŠŸèƒ½
- æ’­æ”¾å†å²è®°å½•
- æœ¬åœ°éŸ³ä¹ç®¡ç†
- ğŸ†• **é¦–é¡µè½®æ’­å›¾**ï¼šä½¿ç”¨åœ¨çº¿éšæœºå›¾ç‰‡ï¼Œæ”¯æŒè‡ªåŠ¨è½®æ’­
- ğŸ–¼ï¸ **åŠ¨æ€å›¾ç‰‡åŠ è½½**ï¼šæ‰€æœ‰å›¾ç‰‡å ä½ç¬¦éƒ½ä½¿ç”¨åœ¨çº¿éšæœºå›¾ç‰‡
- âš¡ **æµç•…åŠ è½½ä½“éªŒ**ï¼šå›¾ç‰‡åŠ è½½è¿‡ç¨‹æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨
- ğŸ›¡ï¸ **é”™è¯¯å¤„ç†**ï¼šå›¾ç‰‡åŠ è½½å¤±è´¥æ—¶æ˜¾ç¤ºé»˜è®¤å›¾æ ‡
- ğŸµ **ç½‘ç»œéŸ³æº**ï¼šé›†æˆå…è´¹éŸ³ä¹APIï¼Œæä¾›çœŸå®çš„åœ¨çº¿éŸ³ä¹æ’­æ”¾
- ğŸ” **å®æ—¶æœç´¢**ï¼šæ”¯æŒæœç´¢ç½‘ç»œéŸ³ä¹åº“ä¸­çš„æ­Œæ›²
- ğŸ“» **æ¨èç³»ç»Ÿ**ï¼šè·å–æœ€æ–°éŸ³ä¹å’Œçƒ­é—¨æ­Œå•æ¨è

## æŠ€æœ¯æ ˆ

- Flutter 3.x
- Dart
- Provider (çŠ¶æ€ç®¡ç†)
- Just Audio (éŸ³é¢‘æ’­æ”¾)
- Audio Service (åå°æ’­æ”¾æœåŠ¡)
- Shared Preferences (æœ¬åœ°æ•°æ®å­˜å‚¨)

## é¡¹ç›®ç»“æ„

```
lib/
â”œâ”€â”€ main.dart                 # åº”ç”¨å…¥å£
â”œâ”€â”€ models/                   # æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ song.dart             # æ­Œæ›²æ¨¡å‹
â”œâ”€â”€ services/                 # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ audio_service.dart    # éŸ³é¢‘æœåŠ¡
â”‚   â”œâ”€â”€ music_player.dart     # éŸ³ä¹æ’­æ”¾å™¨
â”‚   â””â”€â”€ playlist_service.dart # æ’­æ”¾åˆ—è¡¨æœåŠ¡
â”œâ”€â”€ screens/                  # é¡µé¢
â”‚   â”œâ”€â”€ main_screen.dart      # ä¸»å±å¹•
â”‚   â”œâ”€â”€ player_screen.dart    # æ’­æ”¾å™¨å±å¹•
â”‚   â””â”€â”€ search_screen.dart    # æœç´¢å±å¹•
â”œâ”€â”€ widgets/                  # ç»„ä»¶
â”‚   â”œâ”€â”€ navigation_bar.dart   # å¯¼èˆªæ 
â”‚   â”œâ”€â”€ main_content.dart     # ä¸»å†…å®¹åŒº
â”‚   â”œâ”€â”€ player_bar.dart       # æ’­æ”¾æ§åˆ¶æ 
â”‚   â””â”€â”€ song_item.dart        # æ­Œæ›²åˆ—è¡¨é¡¹
â””â”€â”€ utils/                    # å·¥å…·ç±»
    â””â”€â”€ constants.dart        # å¸¸é‡å®šä¹‰
```

## å®‰è£…å’Œè¿è¡Œ

### å¿«é€Ÿå®‰è£…ï¼ˆWindowsï¼‰

é¡¹ç›®æä¾›äº†è‡ªåŠ¨åŒ–å®‰è£…è„šæœ¬ï¼Œå¯å¸®åŠ©æ‚¨å¿«é€Ÿå®‰è£…ä¾èµ–ï¼š

- Windowsæ‰¹å¤„ç†è„šæœ¬ï¼šåŒå‡» `install_dependencies.bat`
- PowerShellè„šæœ¬ï¼šåœ¨PowerShellä¸­è¿è¡Œ `install_dependencies.ps1`

### å®‰è£…Flutter SDK

1. ä» [Flutterå®˜ç½‘](https://docs.flutter.dev/get-started/install/windows) ä¸‹è½½Windowsç‰ˆSDK
2. è§£å‹åˆ°æŒ‡å®šç›®å½•ï¼ˆå¦‚ `C:\src\flutter`ï¼‰
3. å°† `C:\src\flutter\bin` æ·»åŠ åˆ°ç³»ç»ŸPATHç¯å¢ƒå˜é‡
4. é‡æ–°æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¿è¡Œ `flutter --version` éªŒè¯å®‰è£…

### é¡¹ç›®è®¾ç½®

1. å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®
2. è¿›å…¥é¡¹ç›®ç›®å½•
3. è¿è¡Œ `flutter pub get` å®‰è£…ä¾èµ–
4. å¯ç”¨Windowsæ¡Œé¢æ”¯æŒï¼š`flutter config --enable-windows-desktop`
5. è¿è¡Œ `flutter doctor` æ£€æŸ¥ç¯å¢ƒé…ç½®

### è¿è¡Œåº”ç”¨

- å¼€å‘æ¨¡å¼è¿è¡Œï¼š`flutter run -d windows`
- æ„å»ºæ¡Œé¢åº”ç”¨ï¼š`flutter build windows`

### æ¡Œé¢ç«¯æ”¯æŒ

æœ¬é¡¹ç›®æ”¯æŒWindowsã€macOSå’ŒLinuxæ¡Œé¢å¹³å°ï¼š

- Windows: `flutter run -d windows`
- macOS: `flutter run -d macos`
- Linux: `flutter run -d linux`

## æ¡Œé¢ç«¯æ”¯æŒ

æœ¬é¡¹ç›®æ”¯æŒWindowsã€macOSå’ŒLinuxæ¡Œé¢å¹³å°ï¼š

- Windows: `flutter run -d windows`
- macOS: `flutter run -d macos`
- Linux: `flutter run -d linux`

## å¼€å‘è¯´æ˜

### éŸ³ä¹APIæœåŠ¡

é¡¹ç›®é›†æˆäº†å¤šä¸ªå…è´¹éŸ³ä¹APIï¼Œæä¾›åœ¨çº¿éŸ³ä¹æ’­æ”¾åŠŸèƒ½ï¼š

1. **ç½‘æ˜“äº‘éŸ³ä¹API** ï¼ˆé»˜è®¤ï¼‰
   - åŸºäºURL: `https://netease-cloud-music-api-rust-psi.vercel.app`
   - æ”¯æŒåŠŸèƒ½ï¼š
     - æ¨èæ­Œæ›²ï¼š`/personalized/newsong`
     - çƒ­é—¨æ’è¡Œï¼š`/top/list`
     - æ­Œæ›²æœç´¢ï¼š`/search`
     - æ’­æ”¾URLï¼š`/song/url`
     - æ­Œå•è¯¦æƒ…ï¼š`/playlist/detail`
     - æ¨èæ­Œå•ï¼š`/personalized`

2. **Jamendo API** ï¼ˆå¤‡ç”¨ï¼‰
   - æä¾›å…è´¹CCæˆæƒéŸ³ä¹
   - æ”¯æŒå…å®¡æŸ¥å•†ç”¨
   - API: `https://api.jamendo.com/v3.0/tracks/`

### ä½¿ç”¨ç¤ºä¾‹

```dart
// åˆ›å»ºAPIæœåŠ¡å®ä¾‹
final apiService = MusicApiService();

// è·å–æ¨èæ­Œæ›²
final songs = await apiService.getRecommendSongs(limit: 30);

// æœç´¢æ­Œæ›²
final results = await apiService.searchSongs('å‘¨æ°ä¼¦', limit: 50);

// è·å–æ­Œæ›²è¯¦æƒ…å’Œæ’­æ”¾URL
final songDetail = await apiService.getSongDetail(songId);

// è·å–çƒ­é—¨æ’è¡Œæ¦œ
final topSongs = await apiService.getTopSongs(limit: 50);

// è·å–æ¨èæ­Œå•
final playlists = await apiService.getRecommendPlaylists(limit: 10);
```

### æ³¨æ„äº‹é¡¹

- æœ¬é¡¹ç›®ä½¿ç”¨çš„APIä»…ä¾›å­¦ä¹ å’Œæµ‹è¯•ä½¿ç”¨
- å•†ä¸šä½¿ç”¨è¯·éµå®ˆç›¸å…³APIçš„ä½¿ç”¨åè®®
- å»ºè®®ä½¿ç”¨è‡ªå·±çš„APIæœåŠ¡æˆ–æ­£ç‰ˆéŸ³ä¹å¹³å°API
- APIè¯·æ±‚å¯èƒ½å› ç½‘ç»œé—®é¢˜å¤±è´¥ï¼Œå·²åšé”™è¯¯å¤„ç†

æ­¤é¡¹ç›®ä¸ºéŸ³ä¹æ’­æ”¾å™¨çš„æ¡†æ¶å®ç°ï¼Œå®é™…ä½¿ç”¨æ—¶éœ€è¦ï¼š

1. é›†æˆéŸ³ä¹APIæœåŠ¡ âœ… ï¼ˆå·²å®Œæˆï¼‰
2. æ ¹æ®éœ€è¦è°ƒæ•´UIä¸»é¢˜å’Œæ ·å¼
3. å®ç°ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼ˆå¯é€‰ï¼‰

## è®¸å¯è¯

æ­¤é¡¹ç›®ä¸ºæ¼”ç¤ºç”¨é€”ï¼Œå¯è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹ã€‚